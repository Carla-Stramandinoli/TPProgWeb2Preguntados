Index: view/lobbyView.mustache
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><main class=\"container-fluid flex-fill\">\r\n    <div class=\"d-flex flex-column align-items-center\">\r\n        <h2>Lobby</h2>\r\n        <h3>Proximamente!</h3>\r\n    </div>\r\n</main>\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/view/lobbyView.mustache b/view/lobbyView.mustache
--- a/view/lobbyView.mustache	(revision a6cc469479a323f3c9599525dab310a8d8d6d828)
+++ b/view/lobbyView.mustache	(date 1748900367077)
@@ -1,8 +1,93 @@
-<main class="container-fluid flex-fill">
-    <div class="d-flex flex-column align-items-center">
-        <h2>Lobby</h2>
-        <h3>Proximamente!</h3>
+<!DOCTYPE html>
+<html lang="es">
+<head>
+    <meta charset="UTF-8">
+    <title>Lobby - Preguntados</title>
+    <style>
+        body {
+            font-family: Arial, sans-serif;
+            margin: 2rem;
+            background-color: #f4f4f4;
+        }
+        h1 {
+            color: #2c3e50;
+        }
+        .user-info {
+            margin-bottom: 1rem;
+            font-size: 1.2rem;
+        }
+        .buttons {
+            margin-bottom: 2rem;
+        }
+        .buttons button {
+            margin-right: 1rem;
+            padding: 0.5rem 1rem;
+            font-size: 1rem;
+        }
+        .partidas {
+            background-color: #fff;
+            padding: 1rem;
+            border-radius: 8px;
+            box-shadow: 0 0 5px rgba(0,0,0,0.1);
+        }
+        .partida {
+            margin-bottom: 0.75rem;
+            border-bottom: 1px solid #ddd;
+            padding-bottom: 0.5rem;
+        }
+        .partida:last-child {
+            border-bottom: none;
+        }
+        .jugador-link {
+            color: #3498db;
+            text-decoration: none;
+            cursor: pointer;
+        }
+        .jugador-link:hover {
+            text-decoration: underline;
+        }
+    </style>
+</head>
+<body>
+
+<h1>Bienvenido al Lobby de Preguntados</h1>
+
+<div class="user-info">
+    Jugador: <strong>Juan P√©rez</strong> <br>
+    Puntaje total: <strong>1250 puntos</strong>
+</div>
+
+<div class="buttons">
+    <button onclick="crearPartida()">‚ûï Crear nueva partida</button>
+    <button onclick="verRanking()">üìä Ver ranking</button>
+</div>
+
+<div class="partidas">
+    <h2>Historial de partidas</h2>
+
+    <div class="partida">
+        Contra <a href="perfil.html?id=2" class="jugador-link">Mar√≠a G√≥mez</a> ‚Äì <strong>Ganaste</strong>
     </div>
-</main>
+
+    <div class="partida">
+        Contra <a href="perfil.html?id=3" class="jugador-link">Carlos Ruiz</a> ‚Äì <strong>Perdiste</strong>
+    </div>
+
+    <div class="partida">
+        Contra <a href="perfil.html?id=4" class="jugador-link">Ana Torres</a> ‚Äì <strong>Empate</strong>
+    </div>
 
+</div>
 
+<script>
+    function crearPartida() {
+        window.location.href = "crearPartida.php";
+    }
+
+    function verRanking() {
+        window.location.href = "ranking.php";
+    }
+</script>
+
+</body>
+</html>
Index: configuration/config.ini
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>[database]\r\nserver= localhost:3307\r\nuser = root\r\ndbname = preguntatres\r\npass=
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/configuration/config.ini b/configuration/config.ini
--- a/configuration/config.ini	(revision a6cc469479a323f3c9599525dab310a8d8d6d828)
+++ b/configuration/config.ini	(date 1748900302842)
@@ -1,5 +1,5 @@
 [database]
-server= localhost:3307
+server= localhost:3306
 user = root
 dbname = preguntatres
 pass=
\ No newline at end of file
Index: model/JugarPartidaModel.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nclass JugarPartidaModel{\r\n\r\n\r\n    private $database;\r\n    public function __construct($database)\r\n    {\r\n        $this->database = $database;\r\n    }\r\n\r\n\r\n    public function obtenerPreguntasPorCategoria($categoria)\r\n    {\r\n        $result = $this->database->query(\"\r\n                            SELECT pregunta.enunciado, categoria.descripcion,  pregunta.id \r\n                            FROM pregunta \r\n                            INNER JOIN categoria ON pregunta.id_categoria = categoria.id \r\n                            WHERE categoria.descripcion = '$categoria'\");\r\n\r\n        return $result;\r\n    }\r\n    public function obtenerArrayDeIds($preguntas)\r\n    {\r\n        $nums = [];\r\n        foreach ($preguntas as $pregunta) {\r\n            $nums [] = $pregunta['id'];\r\n            }\r\n        return $nums;\r\n    }\r\n    public function obtenerPreguntaPorId($num, $preguntas)\r\n    {\r\n        foreach ($preguntas as $pregunta) {\r\n            if( $pregunta['id'] == $num){\r\n                return $pregunta;\r\n            }\r\n\r\n        }\r\n        return null;\r\n    }\r\n    public function obtenerRespuestasPorPregunta($pregunta) {\r\n        $id = $pregunta['id'];\r\n        $result = $this->database->query(\"\r\n                            SELECT descripcion\r\n                            FROM respuesta\r\n                            WHERE id_pregunta = '$id'\");\r\n\r\n        return $result;\r\n    }\r\n\r\n    public function validarRespuestaCorrecta($num, $descripcion)\r\n    {\r\n        $result = $this->database->query(\"\r\n                            SELECT es_correcta\r\n                            FROM respuesta\r\n                            WHERE id_pregunta = '$num'\r\n                            AND descripcion = '$descripcion'\");\r\n\r\n        return $result[0]['es_correcta'];\r\n    }\r\n\r\n\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/model/JugarPartidaModel.php b/model/JugarPartidaModel.php
--- a/model/JugarPartidaModel.php	(revision a6cc469479a323f3c9599525dab310a8d8d6d828)
+++ b/model/JugarPartidaModel.php	(date 1748900159219)
@@ -59,7 +59,20 @@
         return $result[0]['es_correcta'];
     }
 
-
+    public  function  actualizarPreguntaCantidadDeVecesJugadaMasUnoPorId($num)
+    {
+        $this->database->execute("UPDATE pregunta SET cantidad_jugada = cantidad_jugada + 1 WHERE id = $num");
+    }
 
-
+    public function elegirCategoriaRandom()
+    {
+        $categorias = ["Historia", "Ciencia", "Geograf√≠a", "Deportes", "Entretenimiento", "Arte"];
+        $indiceElegido = array_rand($categorias);
+        $categoria = $categorias[$indiceElegido];
+        return $categoria;
+    }
+    public function  actualizarPreguntaRespuestaExitosaMasUnoPorId($num)
+    {
+        $this->database->execute("UPDATE pregunta SET cantidad_aciertos = cantidad_aciertos + 1 WHERE id = $num");
+    }
 }
\ No newline at end of file
Index: view/jugarPartidaView.mustache
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><h1> Juguemos una partida</h1>\r\n\r\n<div class=\"container text-center mt-5\">\r\n    <h2>Ruleta de Preguntados</h2>\r\n\r\n    <div id=\"ruleta-container\" class=\"position-relative mx-auto my-4\" style=\"width: 300px; height: 300px;\">\r\n\r\n        <img src=\"/public/images/icons/flecha.png\"\r\n             style=\"width: 40px; height: 40px; position: absolute; top: -20px; left: 50%; transform: translateX(-50%); z-index: 2;\">\r\n\r\n\r\n        <canvas id=\"ruleta\" width=\"300\" height=\"300\"\r\n                style=\"border: 5px solid #333; border-radius: 50%;\"></canvas>\r\n\r\n\r\n        <div class=\"position-absolute top-50 start-50 translate-middle\">\r\n            <button class=\"btn btn-primary\" onclick=\"girar()\">Iniciar partida</button>\r\n        </div>\r\n    </div>\r\n\r\n    <h4 id=\"resultado\" class=\"mt-3\"></h4>\r\n</div>\r\n\r\n<script src=\"/public/js/jugarPartida.js\"></script>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/view/jugarPartidaView.mustache b/view/jugarPartidaView.mustache
--- a/view/jugarPartidaView.mustache	(revision a6cc469479a323f3c9599525dab310a8d8d6d828)
+++ b/view/jugarPartidaView.mustache	(date 1748900159331)
@@ -1,7 +1,23 @@
-<h1> Juguemos una partida</h1>
+
 
 <div class="container text-center mt-5">
-    <h2>Ruleta de Preguntados</h2>
+    {{#primerInicio}}
+        <h2>Iniciar partida</h2>
+    {{/primerInicio}}
+    {{#partidaEnCurso}}
+        <div class="row mb-4  py-5">
+            <div class="col">
+                <h4 class="info-box bg-success">üèÜ Trofeos Ganados: {{trofeos}}</h4>
+            </div>
+            <div class="col">
+                <h4 class="info-box bg-success"> Puntos: {{puntos}}</h4>
+            </div>
+            <div class="col">
+                <h4 class="info-box bg-success"> Racha mas larga: {{racha}}</h4>
+            </div>
+        </div>
+    {{/partidaEnCurso}}
+
 
     <div id="ruleta-container" class="position-relative mx-auto my-4" style="width: 300px; height: 300px;">
 
@@ -14,11 +30,13 @@
 
 
         <div class="position-absolute top-50 start-50 translate-middle">
-            <button class="btn btn-primary" onclick="girar()">Iniciar partida</button>
+            <button class="btn btn-primary" id="boton-girar" >Girar</button>
         </div>
     </div>
 
     <h4 id="resultado" class="mt-3"></h4>
 </div>
-
+<script>
+    const categoriaElegidaDesdeBack = "{{categoria}}";
+</script>
 <script src="/public/js/jugarPartida.js"></script>
\ No newline at end of file
Index: view/header.mustache
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html lang=\"en\">\r\n<title>Preguntatres</title>\r\n<meta charset=\"UTF-8\">\r\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n<link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Lato\">\r\n<link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7\" crossorigin=\"anonymous\">\r\n<link href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css\" rel=\"stylesheet\">\r\n<link rel=\"stylesheet\" href=\"../public/css/fragments.css\">\r\n<link rel=\"stylesheet\" href=\"../public/css/preguntas.css\">\r\n<body class=\"min-vh-100 d-flex flex-column\">\r\n\r\n<!-- Navbar -->\r\n<nav class=\"navbar bg-secondary py-4\">\r\n    <div class=\"col-12 m-auto mb-4 col-md-3 m-md-0 ms-md-3 text-white d-flex align-items-center justify-content-center justify-content-md-start\">\r\n       <a href=\"/lobby/mostrar\" class=\"link-nav text-decoration-none fs-4 text-white\">\r\n           <img id=\"logo-header\" src=\"/public/images/icons/logo-nav.png\" class=\"rounded-circle mx-3\">\r\n\r\n        <h1 id=\"titulo-pagina\" class=\"d-inline ms-3\">Pregunta<span>tres</span></h1></a>\r\n    </div>\r\n    <div id=\"options-nav\" class=\"col-12 col-md-8 d-flex align-items-center justify-content-center justify-content-md-end gap-4 gap-md-5\">\r\n        {{#showLogout}}\r\n            <a href=\"/lobby/mostrar\" class=\"link-nav text-decoration-none fs-4 text-white\">Lobby</a>\r\n            <a href=\"/jugarPartida/mostrar\" class=\"link-nav text-decoration-none fs-4 text-white\">Jugar partida</a>\r\n            <a href=\"/perfil/mostrar\" class=\"link-nav text-decoration-none fs-4 text-white\">Perfil</a>\r\n            <a href=\"/ingreso/cerrarSesion\" class=\"btn btn-dark me-md-3\" type=\"submit\">Cerrar sesi√≥n</a>\r\n        {{/showLogout}}\r\n    </div>\r\n</nav>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/view/header.mustache b/view/header.mustache
--- a/view/header.mustache	(revision a6cc469479a323f3c9599525dab310a8d8d6d828)
+++ b/view/header.mustache	(date 1748900159331)
@@ -8,6 +8,8 @@
 <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
 <link rel="stylesheet" href="../public/css/fragments.css">
 <link rel="stylesheet" href="../public/css/preguntas.css">
+<link rel="stylesheet" href="../public/css/perdiste.css">
+
 <body class="min-vh-100 d-flex flex-column">
 
 <!-- Navbar -->
Index: controller/JugarPartidaController.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nclass JugarPartidaController{\r\n    private $view;\r\n    private $model;\r\n    public function __construct($model, $view)\r\n    {\r\n        $this->view = $view;\r\n        $this->model = $model;\r\n\r\n    }\r\n\r\n    public function mostrar()\r\n    {\r\n        $this-> view->render(\"jugarPartida\" ,[\"showLogout\" => true]);\r\n    }\r\n\r\n    public function categoria()\r\n    {\r\n        $categoria = isset($_GET['cat']) ? $_GET['cat'] : '';\r\n\r\n\r\n        error_log(\"Categor√≠a recibida: \" . $_GET['cat']);\r\n\r\n        $preguntas = $this->model->obtenerPreguntasPorCategoria($categoria);\r\n\r\n        $ids = $this->model->obtenerArrayDeIds($preguntas);\r\n        $num = $ids[array_rand($ids)];\r\n        $puntos = 0;\r\n\r\n        $pregunta = $this->model->obtenerPreguntaPorId($num, $preguntas);\r\n        if (!$pregunta) {\r\n            die(\"No se encontr√≥ la pregunta con ID $num\");\r\n        }\r\n        $respuestas = $this->model->obtenerRespuestasPorPregunta($pregunta);\r\n        // Mezclar las opciones\r\n\r\n        shuffle($respuestas);\r\n\r\n        // Renderizar con Mustache\r\n        $this->view->render(\"pregunta\", [\r\n            \"categoria\" => $categoria,\r\n            \"pregunta\" => $pregunta[\"enunciado\"],\r\n            \"id\" => $num,\r\n            \"respuestas\" => $respuestas,\r\n            \"puntos\" => $puntos,\r\n         \"showLogout\" => true] );\r\n    }\r\n\r\n    public function validarResultado()\r\n    {\r\n       $idPregunta = $_POST['pregunta_id'];\r\n       $respuesta = $_POST['respuesta'];\r\n\r\n\r\n       $resultado = $this->model->validarRespuestaCorrecta($idPregunta,$respuesta);\r\n\r\n       if ($resultado==1){\r\n           $this->view->render(\"ganaste\", [\r\n               \"showLogout\" => true] );\r\n       }    else  echo \"Perdisteeee manquito\";\r\n\r\n    }\r\n}\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/controller/JugarPartidaController.php b/controller/JugarPartidaController.php
--- a/controller/JugarPartidaController.php	(revision a6cc469479a323f3c9599525dab310a8d8d6d828)
+++ b/controller/JugarPartidaController.php	(date 1748900159197)
@@ -12,22 +12,27 @@
 
     public function mostrar()
     {
-        $this-> view->render("jugarPartida" ,["showLogout" => true]);
+        $_SESSION["puntos"] = 0;
+        $categoria = $this->model->elegirCategoriaRandom();
+        $_SESSION["categoria_actual"] = $categoria;
+
+        $this-> view->render("jugarPartida" ,["showLogout" => true, "primerInicio" => true, "categoria" =>$categoria]);
     }
+
+
 
     public function categoria()
     {
-        $categoria = isset($_GET['cat']) ? $_GET['cat'] : '';
-
 
-        error_log("Categor√≠a recibida: " . $_GET['cat']);
-
+        $categoria = $_SESSION["categoria_actual"];
         $preguntas = $this->model->obtenerPreguntasPorCategoria($categoria);
 
         $ids = $this->model->obtenerArrayDeIds($preguntas);
         $num = $ids[array_rand($ids)];
-        $puntos = 0;
-
+        if (!isset($_SESSION["puntos"])) {
+            $_SESSION["puntos"] = 0;
+        }
+        $puntos =  $_SESSION["puntos"];
         $pregunta = $this->model->obtenerPreguntaPorId($num, $preguntas);
         if (!$pregunta) {
             die("No se encontr√≥ la pregunta con ID $num");
@@ -36,7 +41,7 @@
         // Mezclar las opciones
 
         shuffle($respuestas);
-
+        $_SESSION['inicio_pregunta'] = time();
         // Renderizar con Mustache
         $this->view->render("pregunta", [
             "categoria" => $categoria,
@@ -46,20 +51,50 @@
             "puntos" => $puntos,
          "showLogout" => true] );
     }
+    public function timeOut()
+    {
+        $trofeos = "no tenes";
+        $racha = "22 preguntas";
+        $puntos = $_SESSION["puntos"];
+
+     $this-> view->render("perdiste" ,[
+        "puntos" => $puntos,
+        "trofeos" => $trofeos,
+        "racha" => $racha,
+        "showLogout" => true]);
 
+    }
     public function validarResultado()
     {
        $idPregunta = $_POST['pregunta_id'];
        $respuesta = $_POST['respuesta'];
 
-
        $resultado = $this->model->validarRespuestaCorrecta($idPregunta,$respuesta);
 
-       if ($resultado==1){
-           $this->view->render("ganaste", [
-               "showLogout" => true] );
-       }    else  echo "Perdisteeee manquito";
-
+       $this->model->actualizarPreguntaCantidadDeVecesJugadaMasUnoPorId($idPregunta);
+        $trofeos = "no tenes";
+        $racha = "22 preguntas";
+        $puntos = $_SESSION["puntos"];
+        $tiempo_actual = time();
+       if ($resultado==1 && $tiempo_actual - $_SESSION['inicio_pregunta'] <10){
+           $this->model->actualizarPreguntaRespuestaExitosaMasUnoPorId($idPregunta);
+           $_SESSION["puntos"] += 1;
+           $puntos = $_SESSION["puntos"];
+           $categoria = $this->model->elegirCategoriaRandom();
+           $_SESSION["categoria_actual"] = $categoria;
+           $this-> view->render("jugarPartida" ,[
+               "puntos" => $puntos,
+               "trofeos" => $trofeos,
+               "racha" => $racha,
+               "showLogout" => true,
+               "partidaEnCurso" => true,
+                "categoria"=> $categoria]);
+       } else{  $this-> view->render("perdiste" ,[
+        "puntos" => $puntos,
+        "trofeos" => $trofeos,
+        "racha" => $racha,
+        "showLogout" => true]);
+       }
     }
 }
 
Index: public/js/pregunta.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>const reloj = document.getElementById(\"reloj\");\r\nlet tiempo = 10;\r\nsetInterval(temporizadorDiezSegundos, 1000);\r\ntemporizadorDiezSegundos();\r\nfunction temporizadorDiezSegundos(){\r\n\r\n\r\n\r\n    reloj.innerText = `Tiempo: ${tiempo}` ;\r\n\r\n    if (tiempo <= 0){\r\n        reloj.innerText = `perdiste papu`;\r\n    }\r\n    tiempo--;\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/public/js/pregunta.js b/public/js/pregunta.js
--- a/public/js/pregunta.js	(revision a6cc469479a323f3c9599525dab310a8d8d6d828)
+++ b/public/js/pregunta.js	(date 1748900159236)
@@ -1,7 +1,15 @@
 const reloj = document.getElementById("reloj");
 let tiempo = 10;
 setInterval(temporizadorDiezSegundos, 1000);
+setInterval(perdistePorTiempo, 1100);
 temporizadorDiezSegundos();
+perdistePorTiempo();
+function perdistePorTiempo(){
+        setTimeout(() => {
+            window.location.href = `/jugarPartida/timeOut`;
+        }, 10500);
+
+}
 function temporizadorDiezSegundos(){
 
 
Index: .idea/dataSources.local.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"dataSourceStorageLocal\" created-in=\"PS-243.26053.13\">\r\n    <data-source name=\"@localhost\" uuid=\"d664b6bc-2d5a-47bf-901a-20c053e5b122\">\r\n      <database-info product=\"\" version=\"\" jdbc-version=\"\" driver-name=\"\" driver-version=\"\" dbms=\"MARIADB\" />\r\n      <secret-storage>master_key</secret-storage>\r\n      <schema-mapping />\r\n    </data-source>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/dataSources.local.xml b/.idea/dataSources.local.xml
--- a/.idea/dataSources.local.xml	(revision a6cc469479a323f3c9599525dab310a8d8d6d828)
+++ b/.idea/dataSources.local.xml	(date 1748900174634)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
-  <component name="dataSourceStorageLocal" created-in="PS-243.26053.13">
+  <component name="dataSourceStorageLocal" created-in="PS-251.25410.148">
     <data-source name="@localhost" uuid="d664b6bc-2d5a-47bf-901a-20c053e5b122">
       <database-info product="" version="" jdbc-version="" driver-name="" driver-version="" dbms="MARIADB" />
       <secret-storage>master_key</secret-storage>
Index: public/js/jugarPartida.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>const categorias = [\r\n    \"Historia\", \"Ciencia\", \"Geograf√≠a\",\r\n    \"Deportes\", \"Entretenimiento\", \"Arte\"\r\n];\r\n\r\n\r\nconst colores = [\"#FF6384\", \"#36A2EB\", \"#FFCE56\", \"#4BC0C0\", \"#9966FF\", \"#FF9F40\"];\r\nconst canvas = document.getElementById(\"ruleta\");\r\nconst ctx = canvas.getContext(\"2d\");\r\nconst radius = canvas.width / 2;\r\n\r\nfunction dibujarRuleta() {\r\n    const angle = 2 * Math.PI / categorias.length;\r\n\r\n    for (let i = 0; i < categorias.length; i++) {\r\n        const start = i * angle;\r\n        const end = (i + 1) * angle;\r\n\r\n        // Fondo\r\n        ctx.beginPath();\r\n        ctx.moveTo(radius, radius);\r\n        ctx.arc(radius, radius, radius, start, end);\r\n        ctx.fillStyle = colores[i % colores.length];\r\n        ctx.fill();\r\n        ctx.stroke();\r\n\r\n        // Texto\r\n        ctx.save();\r\n        ctx.translate(radius, radius);\r\n        ctx.rotate(start + angle / 2);\r\n        ctx.textAlign = \"right\";\r\n        ctx.fillStyle = \"#fff\";\r\n        ctx.font = \"14px Arial\";\r\n        ctx.fillText(categorias[i], radius - 10, 5);\r\n        ctx.restore();\r\n    }\r\n}\r\n\r\ndibujarRuleta();\r\n\r\nfunction enviarCategoria(categoria) {\r\n\r\n    setTimeout(() => {\r\n        window.location.href = `/jugarPartida/categoria?cat=${encodeURIComponent(categoria)}`;\r\n    }, 500); // 500 milisegundos = 0.5 segundos\r\n}\r\n\r\nlet anguloActual = 0;\r\n\r\nfunction girar() {\r\n\r\n    const vueltas = Math.floor(Math.random() * 3) + 6; // entre 3 y 5 vueltas\r\n    const anguloPorCategoria = 360 / categorias.length;\r\n    const seccionElegida = Math.floor(Math.random() * categorias.length);\r\n    const anguloFinal = seccionElegida * anguloPorCategoria;\r\n\r\n    const total = (360 * vueltas) + anguloFinal;\r\n\r\n    const duracion = 2500; // duraci√≥n en ms\r\n\r\n    const inicio = performance.now();\r\n\r\n    function animarRuleta(timestamp) {\r\n        const tiempoPasado = timestamp - inicio;\r\n        const progreso = Math.min(tiempoPasado / duracion, 1);\r\n\r\n        const giro = total * easeOutCubic(progreso);\r\n        anguloActual = giro % 360;\r\n\r\n        canvas.style.transform = `rotate(${anguloActual}deg)`;\r\n\r\n        if (progreso < 1) {\r\n            requestAnimationFrame(animarRuleta);\r\n        } else {\r\n            const anguloFlecha = 270; // posici√≥n visual de la flecha\r\n            const gradosBajoLaFlecha = (anguloFlecha - anguloActual + 360) % 360;\r\n            const index = Math.floor(gradosBajoLaFlecha / anguloPorCategoria);\r\n\r\n            const categoriaGanadora = categorias[index];\r\n\r\n            document.getElementById(\"resultado\").innerText = `¬°Sali√≥: ${categoriaGanadora}!`;\r\n            enviarCategoria(categoriaGanadora);\r\n        }\r\n    }\r\n\r\n    requestAnimationFrame(animarRuleta);\r\n\r\n}\r\n\r\n\r\n// Easing para animaci√≥n m√°s natural\r\nfunction easeOutCubic(t) {\r\n    return 1 - Math.pow(1 - t, 3);\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/public/js/jugarPartida.js b/public/js/jugarPartida.js
--- a/public/js/jugarPartida.js	(revision a6cc469479a323f3c9599525dab310a8d8d6d828)
+++ b/public/js/jugarPartida.js	(date 1748900159235)
@@ -9,12 +9,16 @@
 const ctx = canvas.getContext("2d");
 const radius = canvas.width / 2;
 
-function dibujarRuleta() {
+let ruletaGirando = false;
+
+function dibujarRuleta(angulo = 0) {
+    ctx.clearRect(0, 0, canvas.width, canvas.height); // limpiar canvas
+
     const angle = 2 * Math.PI / categorias.length;
 
     for (let i = 0; i < categorias.length; i++) {
-        const start = i * angle;
-        const end = (i + 1) * angle;
+        const start = i * angle + angulo;
+        const end = (i + 1) * angle + angulo;
 
         // Fondo
         ctx.beginPath();
@@ -36,28 +40,33 @@
     }
 }
 
-dibujarRuleta();
+dibujarRuleta(0);
 
-function enviarCategoria(categoria) {
+function redirigir() {
 
     setTimeout(() => {
-        window.location.href = `/jugarPartida/categoria?cat=${encodeURIComponent(categoria)}`;
-    }, 500); // 500 milisegundos = 0.5 segundos
+        window.location.href = `/jugarPartida/categoria`;
+    }, 400); // 500 milisegundos = 0.5 segundos
 }
 
 let anguloActual = 0;
 
 function girar() {
-
-    const vueltas = Math.floor(Math.random() * 3) + 6; // entre 3 y 5 vueltas
+    const vueltas = 6;
     const anguloPorCategoria = 360 / categorias.length;
-    const seccionElegida = Math.floor(Math.random() * categorias.length);
-    const anguloFinal = seccionElegida * anguloPorCategoria;
+    const seccionElegida = categorias.indexOf(categoriaElegidaDesdeBack);
 
-    const total = (360 * vueltas) + anguloFinal;
+    // üß† Centro del sector elegido (en grados)
+    const centroCategoria = (seccionElegida + 0.5) * anguloPorCategoria;
 
-    const duracion = 2500; // duraci√≥n en ms
+    // üìç Queremos que el centro de la categor√≠a quede en 270¬∞ (la flecha)
+    let anguloObjetivo = 270 - centroCategoria;
 
+    // Asegurar que est√© en rango [0, 360)
+    if (anguloObjetivo < 0) anguloObjetivo += 360;
+
+    const total = (360 * vueltas) + anguloObjetivo;
+    const duracion = 2000;
     const inicio = performance.now();
 
     function animarRuleta(timestamp) {
@@ -67,19 +76,16 @@
         const giro = total * easeOutCubic(progreso);
         anguloActual = giro % 360;
 
-        canvas.style.transform = `rotate(${anguloActual}deg)`;
+        const radianes = (anguloActual * Math.PI) / 180;
+        dibujarRuleta(radianes);
 
         if (progreso < 1) {
             requestAnimationFrame(animarRuleta);
         } else {
-            const anguloFlecha = 270; // posici√≥n visual de la flecha
-            const gradosBajoLaFlecha = (anguloFlecha - anguloActual + 360) % 360;
-            const index = Math.floor(gradosBajoLaFlecha / anguloPorCategoria);
-
-            const categoriaGanadora = categorias[index];
-
+            const categoriaGanadora = categorias[seccionElegida];
             document.getElementById("resultado").innerText = `¬°Sali√≥: ${categoriaGanadora}!`;
-            enviarCategoria(categoriaGanadora);
+            redirigir();
+            ruletaGirando = false;
         }
     }
 
@@ -87,6 +93,19 @@
 
 }
 
+const botonGirar = document.getElementById("boton-girar");
+
+
+
+botonGirar.addEventListener("click", () => {
+    if (ruletaGirando) return;
+
+    ruletaGirando = true;
+    botonGirar.innerText = "Parar";
+    girar();
+});
+
+
 
 // Easing para animaci√≥n m√°s natural
 function easeOutCubic(t) {
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"d3c63534-2af5-459f-a625-42942ec8932d\" name=\"Changes\" comment=\"Ruleta agregada y pagina de jugar Partida\">\r\n      <change afterPath=\"$PROJECT_DIR$/view/ganasteView.mustache\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/controller/JugarPartidaController.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/controller/JugarPartidaController.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/model/JugarPartidaModel.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/model/JugarPartidaModel.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/public/css/preguntas.css\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/public/css/preguntas.css\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/public/js/jugarPartida.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/public/js/jugarPartida.js\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/sqlscript/preguntatres.sql\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/sqlscript/preguntatres.sql\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/view/preguntaView.mustache\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/view/preguntaView.mustache\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ComposerSettings\">\r\n    <execution />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"HTML File\" />\r\n        <option value=\"CSS File\" />\r\n        <option value=\"JavaScript File\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitHubPullRequestSearchHistory\">{\r\n  &quot;lastFilter&quot;: {\r\n    &quot;state&quot;: &quot;OPEN&quot;,\r\n    &quot;assignee&quot;: &quot;MatiasDworzak&quot;\r\n  }\r\n}</component>\r\n  <component name=\"GithubPullRequestsUISettings\">{\r\n  &quot;selectedUrlAndAccountId&quot;: {\r\n    &quot;url&quot;: &quot;https://github.com/Carla-Stramandinoli/TPProgWeb2Preguntados.git&quot;,\r\n    &quot;accountId&quot;: &quot;5d3cec17-7597-4fcb-a38a-03c403d275e0&quot;\r\n  }\r\n}</component>\r\n  <component name=\"PhpDebugGeneral\" listening_started=\"true\" />\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;customColor&quot;: &quot;&quot;,\r\n  &quot;associatedIndex&quot;: 3\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"2xYUvGD0UIG6K6Z1b8drqFdcQTS\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;DefaultHtmlFileTemplate&quot;: &quot;HTML File&quot;,\r\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\r\n    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,\r\n    &quot;git-widget-placeholder&quot;: &quot;tinto&quot;,\r\n    &quot;last_opened_file_path&quot;: &quot;C:/xampp/htdocs/model&quot;,\r\n    &quot;list.type.of.created.stylesheet&quot;: &quot;CSS&quot;,\r\n    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,\r\n    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,\r\n    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,\r\n    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,\r\n    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,\r\n    &quot;settings.editor.selected.configurable&quot;: &quot;preferences.keymap&quot;,\r\n    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;\r\n  },\r\n  &quot;keyToStringList&quot;: {\r\n    &quot;DatabaseDriversLRU&quot;: [\r\n      &quot;mariadb&quot;\r\n    ]\r\n  }\r\n}</component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\xampp\\htdocs\\sqlscript\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"SharedIndexes\">\r\n    <attachedChunks>\r\n      <set>\r\n        <option value=\"bundled-js-predefined-d6986cc7102b-1632447f56bf-JavaScript-PS-243.26053.13\" />\r\n        <option value=\"bundled-php-predefined-a98d8de5180a-1ec7b7818973-com.jetbrains.php.sharedIndexes-PS-243.26053.13\" />\r\n      </set>\r\n    </attachedChunks>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"d3c63534-2af5-459f-a625-42942ec8932d\" name=\"Changes\" comment=\"\" />\r\n      <created>1748114730148</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1748114730148</updated>\r\n      <workItem from=\"1748114732091\" duration=\"32500000\" />\r\n      <workItem from=\"1748153128994\" duration=\"102000\" />\r\n      <workItem from=\"1748198741440\" duration=\"20376000\" />\r\n      <workItem from=\"1748222306723\" duration=\"11863000\" />\r\n      <workItem from=\"1748288578888\" duration=\"16405000\" />\r\n      <workItem from=\"1748549752662\" duration=\"3735000\" />\r\n      <workItem from=\"1748573339141\" duration=\"7563000\" />\r\n      <workItem from=\"1748583581742\" duration=\"5575000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"Ruleta agregada y pagina de jugar Partida\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1748470820345</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1748470820345</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"Ruleta agregada y pagina de jugar Partida\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1748573468493</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1748573468493</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"3\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"Ruleta agregada y pagina de jugar Partida\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"Ruleta agregada y pagina de jugar Partida\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision a6cc469479a323f3c9599525dab310a8d8d6d828)
+++ b/.idea/workspace.xml	(date 1748906977555)
@@ -4,15 +4,19 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="d3c63534-2af5-459f-a625-42942ec8932d" name="Changes" comment="Ruleta agregada y pagina de jugar Partida">
-      <change afterPath="$PROJECT_DIR$/view/ganasteView.mustache" afterDir="false" />
+    <list default="true" id="d3c63534-2af5-459f-a625-42942ec8932d" name="Changes" comment="Ya se puede jugar una partida entera, y perdura los datos con las sesiones">
+      <change afterPath="$PROJECT_DIR$/view/perdisteView.mustache" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/dataSources.local.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/dataSources.local.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/php.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/php.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/configuration/config.ini" beforeDir="false" afterPath="$PROJECT_DIR$/configuration/config.ini" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/controller/JugarPartidaController.php" beforeDir="false" afterPath="$PROJECT_DIR$/controller/JugarPartidaController.php" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/model/JugarPartidaModel.php" beforeDir="false" afterPath="$PROJECT_DIR$/model/JugarPartidaModel.php" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/public/css/preguntas.css" beforeDir="false" afterPath="$PROJECT_DIR$/public/css/preguntas.css" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/public/js/jugarPartida.js" beforeDir="false" afterPath="$PROJECT_DIR$/public/js/jugarPartida.js" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/sqlscript/preguntatres.sql" beforeDir="false" afterPath="$PROJECT_DIR$/sqlscript/preguntatres.sql" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/view/preguntaView.mustache" beforeDir="false" afterPath="$PROJECT_DIR$/view/preguntaView.mustache" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/public/js/pregunta.js" beforeDir="false" afterPath="$PROJECT_DIR$/public/js/pregunta.js" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/view/header.mustache" beforeDir="false" afterPath="$PROJECT_DIR$/view/header.mustache" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/view/jugarPartidaView.mustache" beforeDir="false" afterPath="$PROJECT_DIR$/view/jugarPartidaView.mustache" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/view/lobbyView.mustache" beforeDir="false" afterPath="$PROJECT_DIR$/view/lobbyView.mustache" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -32,6 +36,11 @@
     </option>
   </component>
   <component name="Git.Settings">
+    <option name="RECENT_BRANCH_BY_REPOSITORY">
+      <map>
+        <entry key="$PROJECT_DIR$" value="Huesos" />
+      </map>
+    </option>
     <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
   </component>
   <component name="GitHubPullRequestSearchHistory">{
@@ -44,6 +53,16 @@
   &quot;selectedUrlAndAccountId&quot;: {
     &quot;url&quot;: &quot;https://github.com/Carla-Stramandinoli/TPProgWeb2Preguntados.git&quot;,
     &quot;accountId&quot;: &quot;5d3cec17-7597-4fcb-a38a-03c403d275e0&quot;
+  },
+  &quot;recentNewPullRequestHead&quot;: {
+    &quot;server&quot;: {
+      &quot;useHttp&quot;: false,
+      &quot;host&quot;: &quot;github.com&quot;,
+      &quot;port&quot;: null,
+      &quot;suffix&quot;: null
+    },
+    &quot;owner&quot;: &quot;Carla-Stramandinoli&quot;,
+    &quot;repository&quot;: &quot;TPProgWeb2Preguntados&quot;
   }
 }</component>
   <component name="PhpDebugGeneral" listening_started="true" />
@@ -52,33 +71,33 @@
   &quot;associatedIndex&quot;: 3
 }</component>
   <component name="ProjectId" id="2xYUvGD0UIG6K6Z1b8drqFdcQTS" />
-  <component name="ProjectLevelVcsManager" settingsEditedManually="true" />
   <component name="ProjectViewState">
     <option name="hideEmptyMiddlePackages" value="true" />
     <option name="showLibraryContents" value="true" />
   </component>
-  <component name="PropertiesComponent">{
-  &quot;keyToString&quot;: {
-    &quot;DefaultHtmlFileTemplate&quot;: &quot;HTML File&quot;,
-    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,
-    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,
-    &quot;git-widget-placeholder&quot;: &quot;tinto&quot;,
-    &quot;last_opened_file_path&quot;: &quot;C:/xampp/htdocs/model&quot;,
-    &quot;list.type.of.created.stylesheet&quot;: &quot;CSS&quot;,
-    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,
-    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,
-    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,
-    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,
-    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,
-    &quot;settings.editor.selected.configurable&quot;: &quot;preferences.keymap&quot;,
-    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;
+  <component name="PropertiesComponent"><![CDATA[{
+  "keyToString": {
+    "DefaultHtmlFileTemplate": "HTML File",
+    "RunOnceActivity.ShowReadmeOnStart": "true",
+    "RunOnceActivity.git.unshallow": "true",
+    "git-widget-placeholder": "main",
+    "ignore.virus.scanning.warn.message": "true",
+    "last_opened_file_path": "D:/Xamp/htdocs",
+    "list.type.of.created.stylesheet": "CSS",
+    "node.js.detected.package.eslint": "true",
+    "node.js.detected.package.tslint": "true",
+    "node.js.selected.package.eslint": "(autodetect)",
+    "node.js.selected.package.tslint": "(autodetect)",
+    "nodejs_package_manager_path": "npm",
+    "settings.editor.selected.configurable": "preferences.keymap",
+    "vue.rearranger.settings.migration": "true"
   },
-  &quot;keyToStringList&quot;: {
-    &quot;DatabaseDriversLRU&quot;: [
-      &quot;mariadb&quot;
+  "keyToStringList": {
+    "DatabaseDriversLRU": [
+      "mariadb"
     ]
   }
-}</component>
+}]]></component>
   <component name="RecentsManager">
     <key name="MoveFile.RECENT_KEYS">
       <recent name="C:\xampp\htdocs\sqlscript" />
@@ -87,8 +106,8 @@
   <component name="SharedIndexes">
     <attachedChunks>
       <set>
-        <option value="bundled-js-predefined-d6986cc7102b-1632447f56bf-JavaScript-PS-243.26053.13" />
-        <option value="bundled-php-predefined-a98d8de5180a-1ec7b7818973-com.jetbrains.php.sharedIndexes-PS-243.26053.13" />
+        <option value="bundled-js-predefined-d6986cc7102b-6a121458b545-JavaScript-PS-251.25410.148" />
+        <option value="bundled-php-predefined-a98d8de5180a-c5828cf854d9-com.jetbrains.php.sharedIndexes-PS-251.25410.148" />
       </set>
     </attachedChunks>
   </component>
@@ -107,7 +126,17 @@
       <workItem from="1748288578888" duration="16405000" />
       <workItem from="1748549752662" duration="3735000" />
       <workItem from="1748573339141" duration="7563000" />
-      <workItem from="1748583581742" duration="5575000" />
+      <workItem from="1748583581742" duration="6402000" />
+      <workItem from="1748629603962" duration="1577000" />
+      <workItem from="1748635408554" duration="483000" />
+      <workItem from="1748639269272" duration="783000" />
+      <workItem from="1748666510257" duration="1373000" />
+      <workItem from="1748723615568" duration="540000" />
+      <workItem from="1748724579308" duration="10405000" />
+      <workItem from="1748754389406" duration="1173000" />
+      <workItem from="1748757458909" duration="3979000" />
+      <workItem from="1748900164863" duration="10000" />
+      <workItem from="1748900276090" duration="2802000" />
     </task>
     <task id="LOCAL-00001" summary="Ruleta agregada y pagina de jugar Partida">
       <option name="closed" value="true" />
@@ -125,7 +154,31 @@
       <option name="project" value="LOCAL" />
       <updated>1748573468493</updated>
     </task>
-    <option name="localTasksCounter" value="3" />
+    <task id="LOCAL-00003" summary="Cree nuevas tablas en la base de datos, preguntas, respuestas y categorias. Sume la logica para que se cargen de forma random las preguntas, el metodo post con las respuestas y valide si la respuesta es correcta o incorrecta sin que se vea desde el front">
+      <option name="closed" value="true" />
+      <created>1748589520537</created>
+      <option name="number" value="00003" />
+      <option name="presentableId" value="LOCAL-00003" />
+      <option name="project" value="LOCAL" />
+      <updated>1748589520537</updated>
+    </task>
+    <task id="LOCAL-00004" summary="Actualizar base de datos mediante a metodos cuando se juega una pregunta y cuando se responde bien">
+      <option name="closed" value="true" />
+      <created>1748639984215</created>
+      <option name="number" value="00004" />
+      <option name="presentableId" value="LOCAL-00004" />
+      <option name="project" value="LOCAL" />
+      <updated>1748639984215</updated>
+    </task>
+    <task id="LOCAL-00005" summary="Ya se puede jugar una partida entera, y perdura los datos con las sesiones">
+      <option name="closed" value="true" />
+      <created>1748738464243</created>
+      <option name="number" value="00005" />
+      <option name="presentableId" value="LOCAL-00005" />
+      <option name="project" value="LOCAL" />
+      <updated>1748738464243</updated>
+    </task>
+    <option name="localTasksCounter" value="6" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -133,6 +186,9 @@
   </component>
   <component name="VcsManagerConfiguration">
     <MESSAGE value="Ruleta agregada y pagina de jugar Partida" />
-    <option name="LAST_COMMIT_MESSAGE" value="Ruleta agregada y pagina de jugar Partida" />
+    <MESSAGE value="Cree nuevas tablas en la base de datos, preguntas, respuestas y categorias. Sume la logica para que se cargen de forma random las preguntas, el metodo post con las respuestas y valide si la respuesta es correcta o incorrecta sin que se vea desde el front" />
+    <MESSAGE value="Actualizar base de datos mediante a metodos cuando se juega una pregunta y cuando se responde bien" />
+    <MESSAGE value="Ya se puede jugar una partida entera, y perdura los datos con las sesiones" />
+    <option name="LAST_COMMIT_MESSAGE" value="Ya se puede jugar una partida entera, y perdura los datos con las sesiones" />
   </component>
 </project>
\ No newline at end of file
Index: view/perdisteView.mustache
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/view/perdisteView.mustache b/view/perdisteView.mustache
new file mode 100644
--- /dev/null	(date 1748900159332)
+++ b/view/perdisteView.mustache	(date 1748900159332)
@@ -0,0 +1,12 @@
+  <div id="perdiste">
+  <h1>¬°Fin de la partida!</h1>
+
+    <div class="stat">Puntos obtenidos: <strong>{{puntos}}</strong></div>
+    <div class="stat">Trofeos ganados: <strong>{{trofeos}}</strong></div>
+    <div class="stat">Racha m√°s larga: <strong>{{racha}}</strong></div>
+
+    <div>
+        <a href="/lobby" class="btn btn-secondary">Volver al Lobby</a>
+        <a href="/jugarPartida/mostrar" class="btn btn-primary">Jugar de nuevo</a>
+    </div>
+  </div>
\ No newline at end of file
Index: .idea/php.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"MessDetectorOptionsConfiguration\">\r\n    <option name=\"transferred\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PHPCSFixerOptionsConfiguration\">\r\n    <option name=\"transferred\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PHPCodeSnifferOptionsConfiguration\">\r\n    <option name=\"highlightLevel\" value=\"WARNING\" />\r\n    <option name=\"transferred\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PhpProjectSharedConfiguration\" php_language_level=\"7.0\">\r\n    <option name=\"suggestChangeDefaultLanguageLevel\" value=\"false\" />\r\n  </component>\r\n  <component name=\"PhpStanOptionsConfiguration\">\r\n    <option name=\"transferred\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PsalmOptionsConfiguration\">\r\n    <option name=\"transferred\" value=\"true\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/php.xml b/.idea/php.xml
--- a/.idea/php.xml	(revision a6cc469479a323f3c9599525dab310a8d8d6d828)
+++ b/.idea/php.xml	(date 1748900159194)
@@ -10,7 +10,7 @@
     <option name="highlightLevel" value="WARNING" />
     <option name="transferred" value="true" />
   </component>
-  <component name="PhpProjectSharedConfiguration" php_language_level="7.0">
+  <component name="PhpProjectSharedConfiguration" php_language_level="7.4">
     <option name="suggestChangeDefaultLanguageLevel" value="false" />
   </component>
   <component name="PhpStanOptionsConfiguration">
