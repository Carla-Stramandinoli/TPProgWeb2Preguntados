<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <title>Lobby - Preguntados</title>
    <!-- Bootstrap CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="bg-light">

<div class="container py-4">
    {{#datosUsuario}}
        <div class="text-center mb-4">
            <h1>Hola <strong>{{nickname}}</strong></h1>
            <p class="lead">Jugador: <strong>{{nombre_completo}}</strong></p>
            <p>Puntaje total: <strong>{{puntaje_alcanzado}}</strong></p>
        </div>

        <div class="d-flex justify-content-center gap-3 mb-4">
            <button onclick="crearPartida()" class="btn btn-primary">➕ Crear nueva partida</button>
            <button onclick="verRanking()" class="btn btn-success">📊 Ver ranking</button>
            <button onclick="crearPreguntas()" class="btn btn-warning text-white">📝 Crear preguntas nuevas</button>
        </div>

        <div class="card mb-4">
            <div class="card-header">
                <h2 class="mb-0">🏆 Posición en el Ranking Global</h2>
            </div>
            <div class="card-body">
                <p>Puesto: <strong>{{puestoRanking}}</strong></p>
                <p>Puntaje total: <strong>{{puntaje_alcanzado}}</strong></p>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h2 class="mb-0">Historial de partidas</h2>
            </div>
            <div class="card-body">
                {{#historialPartidas}}
                    <div class="mb-3 border-bottom pb-2">
                        Contra <a href="perfil.html?id={{id_oponente}}" class="link-primary">{{nombre_oponente}}</a> – <strong>{{resultado}}</strong>
                    </div>
                {{/historialPartidas}}

                {{^historialPartidas}}
                    <p>No tenés partidas jugadas aún.</p>
                {{/historialPartidas}}
            </div>
        </div>
    {{/datosUsuario}}
</div>

<script>
    function crearPartida() {
        window.location.href = "crearPartida.php";
    }
    function verRanking() {
        window.location.href = "ranking.php";
    }
    function crearPreguntas() {
        window.location.href = "crearPregunta.php";
    }
</script>

<!-- Bootstrap Bundle JS CDN (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
