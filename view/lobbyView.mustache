
<div class="container py-4">
{{#datosUsuario}}
        <div class="text-center mb-4">
            <h1>Hola <strong>{{nickname}}</strong></h1>
            <p class="lead">Jugador: <strong>{{nombre_completo}}</strong></p>
            <p>Puntaje total: <strong>{{puntaje_alcanzado}}</strong></p>
        </div>

        <div class="row justify-content-center mb-4">
            <div class="col-md-3 mb-2">
                <a href="/jugarPartida/mostrar" class="btn btn-outline-primary w-100 py-2 shadow-sm rounded-pill">
                    üéÆ <strong>Jugar una partida</strong>
                </a>
            </div>
            <div class="col-md-3 mb-2">
                <a href="/verRanking/mostrar" class="btn btn-outline-success w-100 py-2 shadow-sm rounded-pill">
                    üìà <strong>Ver ranking</strong>
                </a>
            </div>
            <div class="col-md-3 mb-2">
                <button type="button" class="btn btn-outline-warning w-100 py-2 shadow-sm rounded-pill text-dark"
                        data-bs-toggle="modal" data-bs-target="#modalSugerirPregunta">
                    <i class="bi bi-pencil"></i> Crear pregunta nueva
                </button>
            </div>
            {{#msjExito}}
                <p class="alert alert-success w-auto msj">{{msjExito}}</p>
            {{/msjExito}}
            {{#msjError}}
                <p class="alert alert-danger msj">{{msjError}}</p>
            {{/msjError}}
                <!-- Modal -->
                <div class="modal fade" id="modalSugerirPregunta" tabindex="-1"
                     aria-labelledby="modalSugerirPreguntaLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content shadow-lg border-0">
                            <div class="modal-header bg-primary-subtle border-0">
                                <h1 class="modal-title fs-4 text-primary-emphasis" id="modalSugerirPreguntaLabel">
                                    <i class="bi bi-lightbulb me-2"></i>Sugerir Pregunta Nueva
                                </h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                            </div>

                            <form action="/lobby/sugerirPregunta" method="POST" enctype="multipart/form-data">
                                <div class="modal-body p-4">
                                    <div class="mb-4">
                                        <label class="form-label fw-semibold text-dark">
                                            <i class="bi bi-question-circle me-1"></i>Enunciado de la pregunta
                                        </label>
                                        <textarea name="enunciadoPregunta" class="form-control form-control-lg" rows="2"
                                                  placeholder="Escriba aqu√≠ el enunciado de la pregunta..."
                                                  required></textarea>
                                    </div>

                                    <!-- Respuesta correcta -->
                                    <div class="mb-4">
                                        <label class="form-label fw-semibold text-success">
                                            <i class="bi bi-check-circle me-1"></i>Respuesta correcta
                                        </label>
                                        <input
                                                type="text"
                                                name="respuesta_correcta"
                                                class="form-control border-success"
                                                placeholder="Escriba la respuesta correcta..."
                                                required>
                                    </div>

                                    <!-- Respuestas incorrectas -->
                                    <div class="mb-4">
                                        <label class="form-label fw-semibold text-danger">
                                            <i class="bi bi-x-circle me-1"></i>Respuestas incorrectas
                                        </label>

                                        <div class="row g-3">
                                            <div class="col-md-4">
                                                <input
                                                        type="text"
                                                        name="respuesta_1"
                                                        class="form-control border-danger"
                                                        placeholder="Opci√≥n incorrecta 1..."
                                                        required>
                                            </div>
                                            <div class="col-md-4">
                                                <input
                                                        type="text"
                                                        name="respuesta_2"
                                                        class="form-control border-danger"
                                                        placeholder="Opci√≥n incorrecta 2..."
                                                        required>
                                            </div>
                                            <div class="col-md-4">
                                                <input
                                                        type="text"
                                                        name="respuesta_3"
                                                        class="form-control border-danger"
                                                        placeholder="Opci√≥n incorrecta 3..."
                                                        required>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Categor√≠as -->
                                    <div class="mb-4">
                                        <label class="form-label fw-semibold text-info">
                                            <i class="bi bi-tags me-1"></i>Categor√≠a
                                        </label>
                                        <div class="row g-2">
                                            <div class="col-md-4">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" name="categoria"
                                                           id="arte" value="3" required>
                                                    <label class="form-check-label fw-medium" for="arte">
                                                        <i class="bi bi-brush fs-5"></i> Arte
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-check"><input class="form-check-input" type="radio"
                                                                               name="categoria"
                                                                               id="entretenimiento" value="4" required>
                                                    <label class="form-check-label fw-medium" for="entretenimiento">
                                                        <i class="bi bi-joystick fs-5"></i> Entretenimiento
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-check"><input class="form-check-input" type="radio"
                                                                               name="categoria"
                                                                               id="deportes" value="6" required>
                                                    <label class="form-check-label fw-medium" for="deportes">
                                                        <i class="bi bi-dribbble fs-5"></i> Deportes
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" name="categoria"
                                                           id="geografia" value="1" required>
                                                    <label class="form-check-label fw-medium" for="geografia">
                                                        <i class="bi bi-globe-americas fs-5"></i> Geograf√≠a
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" name="categoria"
                                                           id="ciencia" value="5" required>
                                                    <label class="form-check-label fw-medium" for="ciencia">
                                                        <i class="bi bi-flask fs-5"></i> Ciencia
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" name="categoria"
                                                           id="historia" value="2" required>
                                                    <label class="form-check-label fw-medium" for="historia">
                                                        <i class="bi bi-book fs-5"></i> Historia
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="alert alert-info border-0 bg-info-subtle">
                                    <i class="bi bi-info-circle me-2"></i>
                                    <small>Tu sugerencia ser√° revisada por nuestro equipo de editores antes de ser
                                        incluida en el juego.</small>
                                </div>

                                <div class="modal-footer border-0 bg-light p-4">
                                    <button type="button" class="btn btn-outline-secondary px-4"
                                            data-bs-dismiss="modal">
                                        <i class="bi bi-x-lg me-1"></i>Cancelar
                                    </button>
                                    <button type="submit" class="btn btn-primary px-4">Enviar Sugerencia</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
        </div>
    </div>
    <div class="card mb-4">
        <div class="card-header">
            <h2 class="mb-0">üèÜ Posici√≥n en el Ranking Global</h2>
        </div>
        <div class="card-body">
            <p>Puesto: <strong>{{puestoRanking}}</strong></p>
            <p>Puntaje total: <strong>{{puntaje_alcanzado}}</strong></p>
        </div>
        </div>
        <div class="card mb-4">
            <div class="card-header">
                <h2 class="mb-0">üèÜ Posici√≥n en el Ranking Global de Rachas</h2>
            </div>
            <div class="card-body">
                {{^puestoRanking}}
                    <p>No ten√©s partidas jugadas a√∫n.</p>
                {{/puestoRanking}}
                {{#puestoRanking}}
                    <p>Puesto actual: <strong>{{puestoRanking}}</strong></p>
                    <p>Racha mas larga: <strong>{{rachaMasLarga}}</strong></p>
                {{/puestoRanking}}
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h2 class="mb-0">üïπÔ∏è Historial de partidas</h2>
            </div>
            <div class="card-body" style="max-height: 200px; overflow-y: auto;">
                {{#historialPartidas}}
                    <div class="mb-3 border-bottom pb-2">
                        Partida del {{fecha_partida}} ‚Äì Puntaje: <strong>{{resultado}}</strong>
                    </div>
                {{/historialPartidas}}

                {{^historialPartidas}}
                    <p>No ten√©s partidas jugadas a√∫n.</p>
                {{/historialPartidas}}
            </div>
        </div>
    {{/datosUsuario}}
</div>


<!-- Bootstrap Bundle JS CDN (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/public/js/lobby.js"></script>
</body>
</html>