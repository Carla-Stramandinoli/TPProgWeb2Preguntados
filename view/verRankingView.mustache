<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Ranking Global</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        .rank-card {
            background-color: #f8f9fa;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 1rem;
            margin-bottom: 1rem;
        }
        .mi-fila {
            background-color: #d0ebff !important;
            border: 2px solid #228be6;
        }
        .medalla {
            font-size: 1.5rem;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-light">

<div class="container py-4">
    <h1 class="text-center mb-4">üèÜ Ranking Global</h1>

    <div class="rank-card">
        {{#ranking}}
            {{#posicionMenorA7}}
                <div class="d-flex align-items-center justify-content-between px-3 py-2 mb-2 rounded {{#esUsuarioActual}}mi-fila{{/esUsuarioActual}}">
                    <div class="d-flex align-items-center gap-3">
                        <div class="medalla text-center" style="width: 40px;">
                            {{#esPrimero}}ü•á{{/esPrimero}}
                            {{#esSegundo}}ü•à{{/esSegundo}}
                            {{#esTercero}}ü•â{{/esTercero}}
                            {{^esPrimero}}{{^esSegundo}}{{^esTercero}}{{posicion}}{{/esTercero}}{{/esSegundo}}{{/esPrimero}}
                        </div>
                        <a href="/perfil/mostrar?id={{id}}" class="d-flex align-items-center gap-3 text-decoration-none text-dark">
                        <img src="/public/images/profiles/{{foto_perfil}}" class="rounded-circle" style="height: 50px; width: 50px; object-fit: cover;" alt="Foto perfil">
                        <strong>{{nickname}}</strong>
                        </a>

                    </div>
                    <div class="text-primary fw-bold fs-5">
                        {{puntaje_alcanzado}} <i class="bi bi-trophy-fill"></i>
                    </div>
                </div>
            {{/posicionMenorA7}}
        {{/ranking}}
    </div>

    {{#mostrarMiPosicionAbajo}}
        <div class="rank-card">
            <h5 class="text-center text-muted mb-3">Tu posici√≥n</h5>
            <div class="d-flex align-items-center justify-content-between px-3 py-2 rounded mi-fila">
                <div class="d-flex align-items-center gap-3">
                    <div class="medalla text-center" style="width: 40px;">
                        {{miPosicion}}
                    </div>
                    <img src="/public/images/profiles/{{miFoto}}" class="rounded-circle" style="height: 50px; width: 50px; object-fit: cover;" alt="Tu foto perfil">
                    <strong>{{miNombre}}</strong>
                </div>
                <div class="text-primary fw-bold fs-5">
                    {{miPuntaje}} <i class="bi bi-trophy-fill"></i>
                </div>
            </div>
        </div>
    {{/mostrarMiPosicionAbajo}}

    <div class="text-center">
        <a href="/lobby/mostrar" class="btn btn-secondary mt-3">Volver al Lobby</a>
    </div>
</div>

<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
